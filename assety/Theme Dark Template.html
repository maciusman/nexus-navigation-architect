<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Audit Report - https://nitolic.pl/</title>

    <!-- React & Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background: #0f0f0f;
            color: #e0e0e0;
        }

        .gradient-bg {
            background: #1a1a1a;
            border-bottom: 1px solid #2a2a2a;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            border-bottom: 2px solid #2a2a2a;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            background: #1a1a1a;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .tab-nav::-webkit-scrollbar {
            height: 4px;
        }

        .tab-nav::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 2px;
        }

        .tab-button {
            padding: 1rem 1.5rem;
            font-weight: 500;
            color: #9ca3af;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
            white-space: nowrap;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: none;
            border-top: none;
            border-left: none;
            border-right: none;
        }

        .tab-button:hover {
            color: #f97316;
            background: #242424;
        }

        .tab-button.active {
            color: #f97316;
            border-bottom-color: #f97316;
            background: #242424;
        }

        .tab-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.125rem 0.5rem;
            font-size: 0.75rem;
            font-weight: 600;
            border-radius: 9999px;
            background: #374151;
            color: #f97316;
        }

        /* Mobile responsive */
        .page-selector {
            display: block;
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #374151;
            background: #1a1a1a;
            color: #e0e0e0;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }

        .pages-sidebar {
            display: none;
        }

        @media (min-width: 768px) {
            .page-selector {
                display: none;
            }

            .pages-sidebar {
                display: block;
                position: sticky;
                top: 70px;
                width: 280px;
                max-height: calc(100vh - 90px);
                overflow-y: auto;
            }

            .pages-content {
                flex: 1;
                margin-left: 1.5rem;
            }
        }

        /* Score colors */
        .score-excellent { color: #10B981; }
        .score-good { color: #84CC16; }
        .score-warning { color: #F59E0B; }
        .score-poor { color: #EF4444; }
        .score-critical { color: #DC2626; }

        /* Progress bars */
        .progress-bar {
            transition: width 0.5s ease;
        }

        /* Badges */
        .badge-critical {
            background-color: #991b1b;
            color: #fca5a5;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-important {
            background-color: #c2410c;
            color: #fed7aa;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-recommendation {
            background-color: #0c4a6e;
            color: #7dd3fc;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .loading-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        /* Collapsible */
        .collapsible-header {
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s;
        }

        .collapsible-header:hover {
            background-color: #242424;
        }

        /* Timeline */
        .timeline-item {
            position: relative;
            padding-left: 2rem;
            padding-bottom: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #374151;
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-dot {
            position: absolute;
            left: 0;
            top: 0.25rem;
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 50%;
            border: 3px solid #1a1a1a;
            box-shadow: 0 0 0 2px currentColor;
        }

        /* Override Tailwind */
        .bg-white { background: #1a1a1a !important; }
        .text-gray-700 { color: #d1d5db !important; }
        .text-gray-600 { color: #9ca3af !important; }
        .text-gray-500 { color: #6b7280 !important; }
        .text-gray-800 { color: #e5e7eb !important; }
        .text-gray-900 { color: #f3f4f6 !important; }
        .border-gray-300 { border-color: #374151 !important; }
        .border-gray-200 { border-color: #2a2a2a !important; }
        .bg-gray-50 { background: #242424 !important; }
        .bg-gray-100 { background: #2a2a2a !important; }
        .bg-blue-50 { background: #1e3a5f !important; }
        .bg-blue-100 { background: #1e40af !important; }
        .bg-green-50 { background: #14532d !important; }
        .bg-green-100 { background: #166534 !important; }
        .bg-red-50 { background: #7f1d1d !important; }
        .bg-red-100 { background: #991b1b !important; }
        .bg-purple-50 { background: rgba(168, 85, 247, 0.15) !important; }
        .bg-purple-100 { background: rgba(168, 85, 247, 0.2) !important; }
        .bg-orange-50 { background: rgba(249, 115, 22, 0.15) !important; }
        .bg-yellow-50 { background: rgba(245, 158, 11, 0.15) !important; }
        .bg-pink-100 { background: rgba(236, 72, 153, 0.2) !important; }
        .bg-indigo-50 { background: rgba(99, 102, 241, 0.15) !important; }
        .border-purple-200 { border-color: #6b21a8 !important; }
        .border-blue-200 { border-color: #1e40af !important; }
        .border-green-200 { border-color: #166534 !important; }
        .border-red-200 { border-color: #991b1b !important; }
        .border-orange-200 { border-color: #9a3412 !important; }
        .text-purple-900 { color: #c084fc !important; }
        .text-red-900 { color: #fca5a5 !important; }
        .text-orange-900 { color: #fed7aa !important; }
        .text-blue-900 { color: #93c5fd !important; }
        .shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important; }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2) !important; }
    </style>

    <style>
        /* Report-specific styles */
        .report-header {
            background: #1a1a1a;
            color: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid #2a2a2a;
        }

        .report-meta {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 1rem;
            font-size: 0.9rem;
            opacity: 0.95;
        }

        @media print {
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Report Header -->
    <div class="report-header">
        <h1 style="font-size: 2rem; font-weight: bold; margin-bottom: 0.5rem;">
            üìä SEO Audit Report
        </h1>
        <p style="font-size: 1.1rem; opacity: 0.95;">
            https://nitolic.pl/
        </p>
        <div class="report-meta">
            <span>üìà Score: <strong>69.3/100</strong></span>
            <span>üìù Type: <strong>multi-page</strong></span>
            <span>üìÖ Generated: <strong>2025-10-03</strong></span>
            <span>ü§ñ Powered by <strong>SEO AIditor</strong></span>
        </div>
    </div>

    <!-- React App Container -->
    <div id="root"></div>

    <!-- Embedded Audit Data -->
    <script>
        window.AUDIT_RESULTS = {
  "additional_pages": [
    {
      "expected_insights": "Ta strona dostarczy informacji o firmie, jej misji, historii, ekspertach, potencjalnych nagrodach lub certyfikatach, co jest istotne dla oceny sygna≈Ç√≥w E-E-A-T i og√≥lnej wiarygodno≈õci marki w oczach wyszukiwarek i u≈ºytkownik√≥w.",
      "page_type": "about",
      "selection_reason": "Strona 'O ICB Pharma' jest kluczowa dla budowania zaufania i autorytetu (E-E-A-T). Przedstawia firmƒô stojƒÖcƒÖ za produktami, co jest niezwykle wa≈ºne w bran≈ºy medycznej. Pokazuje wiarygodno≈õƒá i ekspertyzƒô.",
      "url": "https://nitolic.pl/o-icb-pharma/"
    },
    {
      "expected_insights": "Analiza tej strony pozwoli zrozumieƒá strategiƒô optymalizacji konwersji, jako≈õƒá opis√≥w produkt√≥w, obecno≈õƒá CTA, informacje o cenie, dostƒôpno≈õci, recenzjach, a tak≈ºe schemat danych strukturalnych (schema markup) dla produkt√≥w.",
      "page_type": "product",
      "selection_reason": "Strona produktu jest kluczowa dla witryny e-commerce, poniewa≈º pokazuje, jak firma prezentuje swoje oferty, jak wyglƒÖda proces konwersji i jakie informacje sƒÖ dostarczane klientom w celu podjƒôcia decyzji o zakupie. Jest to jedna z g≈Ç√≥wnych stron generujƒÖcych przychody.",
      "url": "https://nitolic.pl/pipi-nitolic-spray-5o-ml-zestaw/"
    },
    {
      "expected_insights": "Analiza tej strony pozwoli oceniƒá optymalizacjƒô pod kƒÖtem szerokich s≈Ç√≥w kluczowych, strukturƒô kategorii, filtrowanie/sortowanie produkt√≥w (je≈õli wystƒôpuje), linkowanie wewnƒôtrzne oraz potencjalne problemy z kanibalizacjƒÖ tre≈õci.",
      "page_type": "category",
      "selection_reason": "Strona kategorii 'Leczenie wszawicy' jest wa≈ºna dla zrozumienia, jak witryna grupuje swoje produkty i tre≈õci. Pokazuje strukturƒô nawigacji i spos√≥b, w jaki u≈ºytkownicy sƒÖ prowadzeni do odpowiednich rozwiƒÖza≈Ñ. Mo≈ºe r√≥wnie≈º s≈Çu≈ºyƒá jako strona lƒÖdowania dla szerokich zapyta≈Ñ.",
      "url": "https://nitolic.pl/leczenie-wszawicy/"
    },
    {
      "expected_insights": "Ta strona ujawni strategiƒô s≈Ç√≥w kluczowych dla tre≈õci edukacyjnych, jako≈õƒá merytorycznƒÖ, optymalizacjƒô pod kƒÖtem d≈Çugiego ogona, wewnƒôtrzne linkowanie do produkt√≥w oraz zaanga≈ºowanie u≈ºytkownik√≥w (je≈õli dostƒôpne sƒÖ komentarze/udostƒôpnienia).",
      "page_type": "blog_post",
      "selection_reason": "Artyku≈Ç blogowy reprezentuje strategiƒô content marketingowƒÖ witryny. Wybrano artyku≈Ç o szerokim zasiƒôgu tematycznym, kt√≥ry prawdopodobnie odpowiada na podstawowe pytania u≈ºytkownik√≥w, co jest wa≈ºne dla budowania autorytetu i pozyskiwania ruchu organicznego.",
      "url": "https://nitolic.pl/artykuly/wszystko-o-wszawicy-o-co-najczesciej-pytaja-rodzice/"
    }
  ],
  "audit_type": "multi-page",
  "final_score": 69.3,
  "grade": {
    "color": "yellow",
    "emoji": "üü°",
    "label": "NEEDS IMPROVEMENT"
  },
  "holistic_score": 70,
  "homepage": {
    "all_issues": [
      {
        "description": "Largest Contentful Paint powinien byƒá <2.5s",
        "fix": "Optymalizuj obrazy, u≈ºyj CDN, zminifikuj CSS/JS",
        "impact": 9,
        "severity": "critical",
        "title": "Wolne LCP: 11.2s (mobile)"
      },
      {
        "description": "Przycisk 'Sprawd≈∫ dostƒôpno≈õƒá' przekierowuje na www.ktomalek.pl. Impact: U≈ºytkownicy sƒÖ zmuszeni do opuszczenia strony Nitolic.pl i przej≈õcia na zewnƒôtrzny serwis (ktomalek.pl) w celu sprawdzenia dostƒôpno≈õci i zakupu, co zwiƒôksza tarcie w procesie konwersji i mo≈ºe prowadziƒá do utraty potencjalnych klient√≥w.",
        "fix": "Rozwa≈ºenie wdro≈ºenia w≈Çasnego sklepu internetowego lub integracji z platformami e-commerce, kt√≥re umo≈ºliwi≈Çyby bezpo≈õredni zakup z poziomu strony Nitolic.pl. Alternatywnie, wy≈õwietlanie cen i bezpo≈õrednich link√≥w do kart produkt√≥w w du≈ºych aptekach internetowych. (Time: 1 week)",
        "impact": 9,
        "severity": "critical",
        "title": "AI: Brak bezpo≈õredniej ≈õcie≈ºki zakupu produkt√≥w na stronie."
      },
      {
        "description": "Why: Wzmocnienie zaufania spo≈Çecznego (social proof) i wiarygodno≈õci marki, co mo≈ºe pozytywnie wp≈ÇynƒÖƒá na decyzje zakupowe potencjalnych klient√≥w.",
        "fix": "Zebranie autentycznych opinii od u≈ºytkownik√≥w produkt√≥w Nitolic i ich widoczne umieszczenie na stronie g≈Ç√≥wnej oraz na stronach produkt√≥w. Mo≈ºna wykorzystaƒá cytaty, zdjƒôcia (za zgodƒÖ) lub kr√≥tkie filmiki. Expected: Wzrost zaufania do marki, potencjalny wzrost wsp√≥≈Çczynnik√≥w konwersji i lepsze postrzeganie produkt√≥w.",
        "impact": 8,
        "severity": "recommendation",
        "title": "AI Quick Win: Dodanie sekcji z opiniami i referencjami klient√≥w."
      },
      {
        "description": "D≈Çugo≈õƒá: 163. Optimal: 150-160",
        "fix": "Dostosuj d≈Çugo≈õƒá meta description i dodaj CTA",
        "impact": 6,
        "severity": "important",
        "title": "Meta description poza optymalnƒÖ d≈Çugo≈õciƒÖ"
      },
      {
        "description": "2 z 6 obraz√≥w nie ma alt tekstu",
        "fix": "Dodaj opisowe alt teksty do wszystkich obraz√≥w",
        "impact": 5,
        "severity": "recommendation",
        "title": "2 obraz√≥w bez alt"
      },
      {
        "description": "Brak: HSTS, X-Content-Type, X-Frame, CSP",
        "fix": "Dodaj security headers w konfiguracji serwera",
        "impact": 4,
        "severity": "recommendation",
        "title": "Brakuje 4 security headers"
      },
      {
        "description": "Za du≈ºo kodu, za ma≈Ço tekstu (optimal >15%)",
        "fix": "Dodaj wiƒôcej content lub upro≈õƒá HTML",
        "impact": 4,
        "severity": "recommendation",
        "title": "Niski text-to-HTML ratio: 7.2%"
      }
    ],
    "audit_type": "single-page",
    "categories": {
      "ai_content": {
        "score": 85
      },
      "content": {
        "score": 83.6
      },
      "indexing": {
        "score": 100
      },
      "onpage": {
        "score": 80.14285714285714
      },
      "pagespeed": {
        "score": 57
      },
      "technical": {
        "score": 62.5
      }
    },
    "final_score": 69.3,
    "url": "https://nitolic.pl/"
  },
  "language": "pl",
  "pages_analyzed": 5,
  "site_type": "e-commerce",
  "site_type_confidence": 95,
  "site_wide_analysis": {
    "executive_summary": "Strona Nitolic.pl ma solidne podstawy w zakresie tre≈õci edukacyjnych i budowania autorytetu w bran≈ºy medycznej, jednak istniejƒÖ znaczƒÖce luki w ≈õcie≈ºce konwersji i optymalizacji technicznej. Kluczowe obszary do poprawy to ujednolicenie i funkcjonalno≈õƒá przycisk√≥w 'Kup online', wzbogacenie stron produktowych o recenzje oraz implementacja ustrukturyzowanych danych, co znaczƒÖco wp≈Çynie na do≈õwiadczenie u≈ºytkownika i wyniki biznesowe.",
    "holistic_score": 70,
    "cross_page_issues": [
      {
        "issue": "Niesp√≥jno≈õƒá i nieskuteczno≈õƒá przycisk√≥w 'Kup online' / Brak cen produkt√≥w na stronach.",
        "pages_affected": [
          "https://nitolic.pl/pipi-nitolic-spray-5o-ml-zestaw/",
          "https://nitolic.pl/leczenie-wszawicy/",
          "https://nitolic.pl/artykuly/wszystko-o-wszawicy-o-co-najczesciej-pytaja-rodzice/"
        ],
        "recommended_solution": "Wdro≈ºenie sp√≥jnej strategii sprzeda≈ºy online: albo pe≈Çnoprawny sklep e-commerce na stronie, albo klarowne linkowanie do partner√≥w handlowych z podaniem cen, je≈õli to model afiliacyjny. Wszystkie przyciski 'Kup online' muszƒÖ byƒá funkcjonalne i prowadziƒá do jasnej ≈õcie≈ºki zakupu.",
        "root_cause": "Brak zintegrowanego systemu e-commerce lub niejasna strategia sprzeda≈ºy online, kt√≥ra nie prezentuje cen ani bezpo≈õrednich link√≥w do zakupu. W rezultacie u≈ºytkownicy napotykajƒÖ na frustracjƒô i porzucajƒÖ ≈õcie≈ºkƒô konwersji.",
        "severity": "CRITICAL"
      }
    ],
    "scalable_recommendations": [
      {
        "business_impact": "ZnaczƒÖcy wzrost wsp√≥≈Çczynnika konwersji i przychod√≥w, poprawa do≈õwiadczenia u≈ºytkownika.",
        "category": "TEMPLATE",
        "priority": "CRITICAL",
        "recommendation": "Wprowadzenie ujednoliconego szablonu strony produktu z wyra≈∫nymi elementami konwersji (ceny, CTA, recenzje, schemat Product Markup).",
        "scope": "Wszystkie strony produktowe (szacunkowo 10+).",
        "time_estimate": "3 tygodnie",
        "owner": "Developer, Marketer"
      }
    ]
  },
  "timestamp": "2025-10-03T07:17:00.435693",
  "url": "https://nitolic.pl/"
};

        window.IS_REPORT_MODE = true;
    </script>

    <!-- React Application Code -->
    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [auditResults] = useState(window.AUDIT_RESULTS);

            return (
                <div className="min-h-screen" style={{background: '#0f0f0f'}}>
                    <div className="max-w-7xl mx-auto px-4 py-6">
                        {auditResults && <AuditResults results={auditResults} />}
                    </div>
                </div>
            );
        }

        function AuditResults({ results }) {
            const [activeTab, setActiveTab] = useState('overview');
            const [selectedPageId, setSelectedPageId] = useState('homepage');

            const isMultiPage = results.audit_type === 'multi-page';

            const allPages = isMultiPage ? [
                {
                    id: 'homepage',
                    label: 'üè† Strona g≈Ç√≥wna',
                    url: results.url,
                    data: results.homepage
                },
                ...(results.additional_pages || []).map((page, idx) => ({
                    id: `page-${idx}`,
                    label: page.page_type || 'Strona',
                    url: page.url,
                    data: page
                }))
            ] : [];

            const tabs = isMultiPage ? [
                { id: 'overview', label: 'PrzeglƒÖd', icon: 'üìä', badge: null },
                { id: 'pages', label: 'Strony', icon: 'üìÑ', badge: results.pages_analyzed },
                { id: 'issues', label: 'Problemy', icon: '‚ö†Ô∏è', badge: (results.homepage?.all_issues?.length || 0) },
                { id: 'strategy', label: 'Strategia', icon: 'üéØ', badge: null }
            ] : [];

            return (
                <div className="mt-6">
                    <div className="tab-nav rounded-t-lg">
                        {tabs.map(tab => (
                            <button
                                key={tab.id}
                                className={`tab-button ${activeTab === tab.id ? 'active' : ''}`}
                                onClick={() => setActiveTab(tab.id)}
                            >
                                <span className="text-lg">{tab.icon}</span>
                                <span className="hidden md:inline">{tab.label}</span>
                                {tab.badge !== null && tab.badge > 0 && (
                                    <span className="tab-badge">{tab.badge}</span>
                                )}
                            </button>
                        ))}
                    </div>

                    <div className="mt-6">
                        {activeTab === 'overview' && <OverviewTab results={results} />}
                        {activeTab === 'pages' && <PagesTab results={results} allPages={allPages} selectedPageId={selectedPageId} setSelectedPageId={setSelectedPageId} />}
                        {activeTab === 'issues' && <IssuesTab results={results} />}
                        {activeTab === 'strategy' && <StrategyTab results={results} />}
                    </div>
                </div>
            );
        }

        function OverviewTab({ results }) {
            const siteWide = results.site_wide_analysis || {};

            return (
                <div className="space-y-6">
                    <div style={{background: 'linear-gradient(135deg, rgba(88, 28, 135, 0.3) 0%, rgba(107, 33, 168, 0.3) 100%)'}} className="rounded-lg p-6 border border-purple-200">
                        <h3 className="text-xl font-bold text-purple-100 mb-3">üìù Podsumowanie wykonawcze</h3>
                        <p className="text-gray-200 leading-relaxed">
                            {siteWide.executive_summary || 'Multi-page analysis wykonana pomy≈õlnie.'}
                        </p>
                    </div>

                    <div className="grid md:grid-cols-3 gap-4">
                        <div className="bg-white rounded-lg shadow-md p-6 text-center" style={{border: '1px solid #2a2a2a'}}>
                            <div className="text-sm text-gray-600 mb-2">Wynik strony g≈Ç√≥wnej</div>
                            <div className={`text-5xl font-bold score-warning`}>
                                {results.final_score}
                            </div>
                            <div className="text-sm text-gray-500 mt-1">{results.grade?.label || 'N/A'}</div>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 text-center" style={{border: '1px solid #2a2a2a'}}>
                            <div className="text-sm text-gray-600 mb-2">Wynik holistyczny</div>
                            <div className={`text-5xl font-bold score-warning`}>
                                {siteWide.holistic_score || 0}
                            </div>
                            <div className="text-sm text-gray-500 mt-1">Ca≈Ço≈õciowa ocena SEO</div>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 text-center" style={{border: '1px solid #2a2a2a'}}>
                            <div className="text-sm text-gray-600 mb-2">Przeanalizowane strony</div>
                            <div className="text-5xl font-bold" style={{color: '#f97316'}}>
                                {results.pages_analyzed}
                            </div>
                            <div className="text-sm text-gray-500 mt-1">{results.site_type}</div>
                        </div>
                    </div>

                    <div className="bg-white rounded-lg shadow-md p-6" style={{border: '1px solid #2a2a2a'}}>
                        <h3 className="text-lg font-bold mb-4" style={{color: '#f3f4f6'}}>üåê Przeanalizowane strony</h3>
                        <div className="space-y-3">
                            <div className="p-4 border-l-4" style={{background: '#581c87', borderLeftColor: '#a855f7', borderRadius: '4px'}}>
                                <div className="flex justify-between items-start">
                                    <div className="flex-1">
                                        <div className="font-semibold" style={{color: '#e9d5ff'}}>üè† Strona g≈Ç√≥wna</div>
                                        <div className="text-sm text-gray-400 break-all mt-1">{results.url}</div>
                                    </div>
                                    <div className={`text-2xl font-bold score-warning`}>
                                        {results.final_score}
                                    </div>
                                </div>
                            </div>

                            {results.additional_pages && results.additional_pages.map((page, idx) => (
                                <div key={idx} className="p-4 bg-gray-50 border-l-4 rounded" style={{borderLeftColor: '#6b7280'}}>
                                    <div className="font-semibold capitalize" style={{color: '#e5e7eb'}}>{page.page_type}</div>
                                    <div className="text-sm text-gray-600 break-all mt-1">{page.url}</div>
                                    <div className="text-xs text-gray-500 mt-2">üí° {page.selection_reason}</div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        function PagesTab({ results, allPages, selectedPageId, setSelectedPageId }) {
            const selectedPage = allPages.find(p => p.id === selectedPageId);

            return (
                <div>
                    <select
                        className="page-selector"
                        value={selectedPageId}
                        onChange={(e) => setSelectedPageId(e.target.value)}
                    >
                        {allPages.map(page => (
                            <option key={page.id} value={page.id}>{page.label}</option>
                        ))}
                    </select>

                    <div className="md:flex">
                        <div className="pages-sidebar bg-white rounded-lg shadow-md p-4" style={{border: '1px solid #2a2a2a'}}>
                            <h3 className="font-bold mb-3 text-gray-700">Wybierz stronƒô</h3>
                            <div className="space-y-2">
                                {allPages.map(page => (
                                    <button
                                        key={page.id}
                                        onClick={() => setSelectedPageId(page.id)}
                                        className={`w-full text-left px-4 py-3 rounded-lg transition ${
                                            selectedPageId === page.id
                                                ? 'border-l-4'
                                                : 'border-l-4 border-transparent'
                                        }`}
                                        style={{
                                            background: selectedPageId === page.id ? '#242424' : 'transparent',
                                            borderLeftColor: selectedPageId === page.id ? '#f97316' : 'transparent',
                                            color: selectedPageId === page.id ? '#f97316' : '#9ca3af'
                                        }}
                                    >
                                        <div className="font-medium">{page.label}</div>
                                        <div className="text-xs mt-1 truncate" style={{color: '#6b7280'}}>{page.url?.replace('https://', '')}</div>
                                    </button>
                                ))}
                            </div>
                        </div>

                        <div className="pages-content">
                            {selectedPage && (
                                <div className="bg-white rounded-lg shadow-md p-6" style={{border: '1px solid #2a2a2a'}}>
                                    <h3 className="text-xl font-bold mb-2" style={{color: '#f3f4f6'}}>{selectedPage.label}</h3>
                                    <a href={selectedPage.url} target="_blank" rel="noopener" className="text-sm hover:underline break-all block mb-6" style={{color: '#f97316'}}>
                                        {selectedPage.url} ‚Üó
                                    </a>

                                    {selectedPageId === 'homepage' ? (
                                        <CategoriesView categories={selectedPage.data.categories} />
                                    ) : (
                                        <div className="space-y-4">
                                            <div className="bg-blue-50 border rounded-lg p-4" style={{borderColor: '#1e40af'}}>
                                                <p className="text-sm"><strong>Pow√≥d wyboru:</strong> {selectedPage.data.selection_reason}</p>
                                                <p className="text-sm mt-2"><strong>Oczekiwane spostrze≈ºenia:</strong> {selectedPage.data.expected_insights}</p>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        function CategoriesView({ categories }) {
            const [expandedCategory, setExpandedCategory] = useState(null);

            return (
                <div className="space-y-4">
                    {Object.entries(categories || {}).map(([catName, catData]) => (
                        <div key={catName} className="bg-white rounded-lg shadow-md overflow-hidden" style={{border: '1px solid #2a2a2a'}}>
                            <div
                                className="collapsible-header p-4 flex justify-between items-center"
                                onClick={() => setExpandedCategory(expandedCategory === catName ? null : catName)}
                            >
                                <div className="flex items-center gap-3 flex-1">
                                    <h3 className="font-bold capitalize" style={{color: '#e5e7eb'}}>{catName}</h3>
                                    <span className={`text-2xl font-bold score-${catData.score >= 80 ? 'excellent' : catData.score >= 60 ? 'warning' : 'poor'}`}>
                                        {Math.round(catData.score)}
                                    </span>
                                </div>
                                <span style={{color: '#6b7280'}}>{expandedCategory === catName ? '‚ñº' : '‚ñ∂'}</span>
                            </div>

                            {expandedCategory === catName && (
                                <div className="p-4 border-t bg-gray-50" style={{borderTopColor: '#2a2a2a'}}>
                                    <p style={{color: '#9ca3af'}}>Szczeg√≥≈Çy kategorii {catName}</p>
                                </div>
                            )}
                        </div>
                    ))}
                </div>
            );
        }

        function IssuesTab({ results }) {
            const [sortBy, setSortBy] = useState('impact');
            const [filterSeverity, setFilterSeverity] = useState('all');

            let allIssues = [];
            if (results.homepage && results.homepage.all_issues) {
                allIssues = results.homepage.all_issues.map(issue => ({
                    ...issue,
                    url: results.url,
                    pageLabel: 'üè† Strona g≈Ç√≥wna'
                }));
            }

            if (results.site_wide_analysis && results.site_wide_analysis.cross_page_issues) {
                allIssues = [...allIssues, ...results.site_wide_analysis.cross_page_issues.map(issue => ({
                    title: issue.issue,
                    description: issue.recommended_solution,
                    severity: issue.severity.toLowerCase(),
                    impact: issue.severity === 'CRITICAL' ? 10 : 8,
                    url: 'multiple',
                    pageLabel: 'üåê Wiele stron',
                    pagesAffected: issue.pages_affected
                }))];
            }

            let filteredIssues = allIssues;
            if (filterSeverity !== 'all') {
                filteredIssues = filteredIssues.filter(issue => issue.severity === filterSeverity);
            }

            if (sortBy === 'impact') {
                filteredIssues.sort((a, b) => (b.impact || 0) - (a.impact || 0));
            }

            const getBadgeClass = (severity) => {
                if (severity === 'critical') return 'badge-critical';
                if (severity === 'important') return 'badge-important';
                return 'badge-recommendation';
            };

            return (
                <div className="bg-white rounded-lg shadow-md p-6" style={{border: '1px solid #2a2a2a'}}>
                    <h3 className="text-xl font-bold mb-4" style={{color: '#f3f4f6'}}>‚ö†Ô∏è Wszystkie problemy ({filteredIssues.length})</h3>

                    <div className="flex flex-col md:flex-row gap-3 mb-6 pb-6 border-b" style={{borderBottomColor: '#2a2a2a'}}>
                        <div className="flex-1">
                            <label className="text-sm text-gray-600 block mb-1">Sortuj wed≈Çug:</label>
                            <select
                                value={sortBy}
                                onChange={(e) => setSortBy(e.target.value)}
                                className="w-full px-4 py-2 border rounded-lg"
                                style={{background: '#1a1a1a', borderColor: '#374151', color: '#e0e0e0'}}
                            >
                                <option value="impact">Wp≈Çyw (malejƒÖco)</option>
                                <option value="severity">Waga</option>
                            </select>
                        </div>
                        <div className="flex-1">
                            <label className="text-sm text-gray-600 block mb-1">Filtruj wed≈Çug wagi:</label>
                            <select
                                value={filterSeverity}
                                onChange={(e) => setFilterSeverity(e.target.value)}
                                className="w-full px-4 py-2 border rounded-lg"
                                style={{background: '#1a1a1a', borderColor: '#374151', color: '#e0e0e0'}}
                            >
                                <option value="all">Wszystkie ({allIssues.length})</option>
                                <option value="critical">Krytyczne ({allIssues.filter(i => i.severity === 'critical').length})</option>
                                <option value="important">Wa≈ºne ({allIssues.filter(i => i.severity === 'important').length})</option>
                            </select>
                        </div>
                    </div>

                    <div className="space-y-3">
                        {filteredIssues.map((issue, idx) => (
                            <div key={idx} className="p-4 border-l-4 rounded-r" style={{background: 'rgba(249, 115, 22, 0.15)', borderLeftColor: '#f97316'}}>
                                <div className="flex items-start justify-between gap-3 mb-2">
                                    <div className="flex-1">
                                        <div className="flex items-center gap-2 mb-2">
                                            <span className={getBadgeClass(issue.severity)}>{issue.severity?.toUpperCase()}</span>
                                            <span className="text-xs" style={{color: '#9ca3af'}}>Impact: {issue.impact}/10</span>
                                            <span className="text-xs px-2 py-1 rounded" style={{background: '#1e40af', color: '#93c5fd'}}>{issue.pageLabel}</span>
                                        </div>
                                        <h4 className="font-bold" style={{color: '#fef3c7'}}>{issue.title}</h4>
                                    </div>
                                </div>

                                <p className="text-sm mb-2" style={{color: '#e5e7eb'}}>{issue.description}</p>

                                {issue.fix && (
                                    <div className="mt-3 border rounded p-2" style={{background: '#1a1a1a', borderColor: '#9a3412'}}>
                                        <p className="text-xs" style={{color: '#9ca3af'}}><strong>üîß Jak naprawiƒá:</strong></p>
                                        <p className="text-xs mt-1" style={{color: '#d1d5db'}}>{issue.fix}</p>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function StrategyTab({ results }) {
            const siteWide = results.site_wide_analysis || {};
            const recommendations = siteWide.scalable_recommendations || [];

            return (
                <div className="space-y-6">
                    <div className="bg-white rounded-lg shadow-md p-6" style={{border: '1px solid #2a2a2a'}}>
                        <h3 className="text-xl font-bold mb-4" style={{color: '#f3f4f6'}}>üöÄ Skalowalne rekomendacje</h3>
                        <div className="space-y-4">
                            {recommendations.map((rec, idx) => (
                                <div key={idx} className="border-l-4 rounded-r p-4" style={{borderLeftColor: '#a855f7', background: 'rgba(168, 85, 247, 0.15)'}}>
                                    <div className="flex items-start justify-between mb-3">
                                        <h4 className="font-bold flex-1" style={{color: '#e9d5ff'}}>{rec.recommendation}</h4>
                                        <span className={`px-3 py-1 rounded text-xs font-semibold ml-2 ${
                                            rec.priority === 'CRITICAL' ? 'badge-critical' : 'badge-important'
                                        }`}>
                                            {rec.priority}
                                        </span>
                                    </div>

                                    <div className="grid md:grid-cols-2 gap-3 text-sm mb-3">
                                        <div style={{color: '#d1d5db'}}>
                                            <span style={{color: '#9ca3af'}}>Kategoria:</span> <strong>{rec.category}</strong>
                                        </div>
                                        <div style={{color: '#d1d5db'}}>
                                            <span style={{color: '#9ca3af'}}>Zakres:</span> <strong>{rec.scope}</strong>
                                        </div>
                                        <div style={{color: '#d1d5db'}}>
                                            <span style={{color: '#9ca3af'}}>Czas:</span> <strong>{rec.time_estimate}</strong>
                                        </div>
                                        <div style={{color: '#d1d5db'}}>
                                            <span style={{color: '#9ca3af'}}>Odpowiedzialny:</span> <strong>{rec.owner}</strong>
                                        </div>
                                    </div>

                                    <div className="border rounded p-3" style={{background: '#1a1a1a', borderColor: '#6b21a8'}}>
                                        <p className="text-sm" style={{color: '#d1d5db'}}><strong>üíº Wp≈Çyw biznesowy:</strong> {rec.business_impact}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>

    <footer style="text-align: center; padding: 2rem; color: #6b7280; margin-top: 3rem; border-top: 1px solid #2a2a2a;">
        <p style="color: #9ca3af;">Generated by <strong style="color: #f97316;">SEO AIditor</strong> - Professional SEO Audit Tool</p>
        <p style="font-size: 0.875rem; margin-top: 0.5rem; color: #6b7280;">
            This is a standalone HTML report. All functionality works offline.
        </p>
    </footer>
</body>
</html>